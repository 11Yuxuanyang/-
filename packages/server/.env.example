# ============================================================
# CanvasAI Studio 后端配置
# 复制此文件为 .env 并填入真实的 API 密钥
# 警告：.env 文件包含敏感信息，请勿提交到 Git！
# ============================================================

# ========== 服务器配置 ==========
PORT=3001
CORS_ORIGIN=http://localhost:3000
NODE_ENV=development

# ========== OpenAI 配置 ==========
# 获取密钥: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_IMAGE_MODEL=dall-e-3
OPENAI_CHAT_MODEL=gpt-4o

# ========== 豆包 (火山引擎) 配置 ==========
# 获取密钥: https://console.volcengine.com/ark
DOUBAO_API_KEY=your-doubao-key-here
DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
DOUBAO_IMAGE_MODEL=
DOUBAO_CHAT_MODEL=

# ========== 通义千问 (阿里云百炼) 配置 ==========
# 获取密钥: https://bailian.console.aliyun.com/
QWEN_API_KEY=your-qwen-key-here
QWEN_BASE_URL=https://dashscope.aliyuncs.com/api/v1
QWEN_IMAGE_MODEL=
QWEN_CHAT_MODEL=

# ========== 默认提供商 ==========
# 可选值: openai, doubao, qwen, custom
DEFAULT_IMAGE_PROVIDER=openai
DEFAULT_CHAT_PROVIDER=openai

# ========== 自定义提供商（向后兼容）==========
# 如果使用自定义 API，填写以下配置
AI_PROVIDER=custom
AI_API_KEY=your_api_key_here
AI_API_BASE_URL=https://api.example.com/v1
AI_DEFAULT_MODEL=default-model

# ========== 微信开放平台配置 ==========
# 用于扫码登录（可选）
WECHAT_APP_ID=your_wechat_appid
WECHAT_APP_SECRET=your_wechat_app_secret
WECHAT_REDIRECT_URI=http://localhost:3001/api/auth/wechat/callback

# ========== JWT 配置 ==========
# 生产环境请使用强密钥
JWT_SECRET=your_jwt_secret_change_in_production

# ========== 联网搜索配置 ==========
# 默认搜索提供商: duckduckgo (免费) | tavily (AI优化,1000次/月免费) | searxng (自建)
WEB_SEARCH_PROVIDER=duckduckgo
# 最大搜索结果数
WEB_SEARCH_MAX_RESULTS=5

# Tavily API (可选，专为 AI 优化)
# 获取密钥: https://app.tavily.com
TAVILY_API_KEY=

# SearXNG 自建搜索引擎 (可选)
# 部署教程: docker run -d -p 8080:8080 searxng/searxng
SEARXNG_URL=

# ========== LangGraph 配置 ==========
# 用于多轮对话记忆持久化
# PostgreSQL 连接字符串（生产环境必须配置）
LANGGRAPH_POSTGRES_URI=postgresql://user:password@localhost:5432/canvasai
# 消息历史上限（默认 20）
LANGGRAPH_MAX_MESSAGES=20
# 是否启用 LangGraph（默认 true，设为 false 降级到无状态模式）
LANGGRAPH_ENABLED=true
